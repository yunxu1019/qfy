088color,Math,div,cancelAnimationFrame,requestAnimationFrame,css,dispatch,getScreenPosition,document,moveupon,onmousedown,cless,b,a,x,y,z,n,A,o,p,q,B,Cfunction D(Q){var t=Q||x();t.innerHTML=r;var C=t.children,P=C[0],i=C[1],D=C[2],L=C[3];l(i),w(D);var E=L.getElementsByTagName('input'),F=E[0],G=E[1],H=E[2];h(F,function(l){var g,c=this.value;if(!/^#[\da-f]{6}$/i.test(c)){var h=/[\da-f]+/i.exec(c);c=h?'#'+h[0]:'#',c.length>7&&(c=c.slice(0,7)),c!==this.value&&(this.value=c)}else{var i=b.angle(d,c)/(a.PI+a.PI);i>=0&&(f=i),g=j(e(f),c),k=g[0],s=g[1],u()}}),h(G,function(i){var g,c=this.value;if(!/^rgb\(\d+,\s*\d+,\s*\d+\)$/i.test(c)){var h=/rgb\((.*)\)?/i.exec(c);h&&(c=h[0]),c!==this.value&&(this.value=c)}else f=b.angle(d,c)/(a.PI+a.PI),g=j(e(f),c),k=g[0],s=g[1],u()}),h(H,function(a){});var k=1,s=0,f=0,M=0,I=m(i),J=m(D),u=function(){var o;f=K(f),k=K(k),s=K(s);var m=e(f),p=b.parse(m).map(function(a){return c(a,k,s)}),a=p[0],d=p[1],h=p[2],r=b.stringify([a,d,h]);o=b.parse(r),a=o[0],d=o[1],h=o[2];var q=b.rgb2hsl([a,d,h]),u=q[0],C=u===void 0?0:u,w=q[1],D=w===void 0?0:w,E=q[2];y(M),M=z(function(){l(i,m)});var j=r,x='rgb('+a+', '+d+', '+h+')',B='hsl('+C.toFixed(0)+', '+(D*100).toFixed(0)+'%, '+(E*100).toFixed(0)+'%)';n(I,{left:+(k*100).toFixed(6)+'%',top:+(s*100).toFixed(6)+'%',background:j,borderColor:g(a,d,h,i.dark,i.light)}),n(J,{top:+(f*100).toFixed(6)+'%',borderColor:v(m),background:m}),b.equal(j,F.value)||(F.value=j),b.equal(x,G.value)||(G.value=x),b.equal(B,H.value)||(H.value=B),P.style.borderColor=j,L.style.color=g(a,d,h),t.value=j,A(t,'change')},K=function(a){return a<0&&(a=0),a>1&&(a=1),a||0},N=function(e){var b=e.clientY,a=o(D),c=a.top,d=a.height;f=(b-c)/d,p.activeElement!==J&&J.focus(),u()},O=function(b){var c=b.clientY,d=b.clientX,a=o(i),e=a.top,f=a.left,g=a.height,h=a.width;k=(d-f)/h,s=(c-e)/g,p.activeElement!==I&&I.focus(),u()};return q(D,{start:N,move:N}),q(i,{start:O,move:O}),u(),B(t,function(a){return/^input$/i.test(a.target.tagName)||a.preventDefault()}),t}var r,s,s=r={toString:function(){return'<span class="bg"></span><div class="pad"><canvas></canvas><pointer tabindex="-1"></pointer></div><div class="hue"><canvas></canvas><pointer tabindex="-1"></pointer></div><div class="val"><input class="hex" /><input class="rgb" /><input class="hsl" /></div>'}},t=149.685,c=function(c,a,b){return c*a*(1-b)+(.5+a/2)*b*255},i=function(j){var i=b.rotate(d,j*(a.PI+a.PI)),c=b.parse(i),e=c[0],f=c[1],g=c[2],h=255/a.max(e,f,g);return e*=h,f*=h,g*=h,[e,f,g]},e=function(a){return b.stringify(i(a))},f=function(a,b,c){return a*=.299,b*=.587,c*=.114,a+b+c},u=function(b,c,d){var e=a.sqrt((b*b+c*c+d*d)/3),g=a.pow(b-e,2)+a.pow(c-e,2)+a.pow(d-e,2);return a.sqrt(g)*a.log2(1+a.sin(f(b,c,d)/255*a.PI))},g=function(a,b,c,d,e){return f(a,b,c)>t?d||'#000':e||'#fff'},v=function(f,h,i){var a=b.parse(f),c=a[0],d=a[1],e=a[2];return g(c,d,e,h,i)},j=function(u,v){var f=b.parse(u),l=f[0],m=f[1],n=f[2],g=b.parse(v),o=g[0],p=g[1],q=g[2],r=function(b,d){return a.pow(c(l,b,d)-o,2)+a.pow(c(m,b,d)-p,2)+a.pow(c(n,b,d)-q,2)},j=65025,s,t;for(var d=0,h=256;d<=h;d++)for(var e=0,i=256;e<=i;e++){var k=r(d/h,e/ i);k<j&&(j=k,s=d/h,t=e/ i)}return[s,t]},k=function(a){return a.getElementsByTagName('canvas')[0]},d='#ff0000',l=function(v,w){w===void 0&&(w=d);var i=k(v);i.width=256,i.height=256;var x=i.getContext('2d'),y=x.getImageData(0,0,i.width,i.height),e=y.data,g=0,r=b.parse(w),z=r[0],A=r[1],B=r[2];for(var p=0,C=i.height;p<C;p++)for(var q=0,s=i.width;q<s;q++){var j=q/s,t=p/C,l=c(z,j,t),m=c(A,j,t),n=c(B,j,t),o=f(l,m,n),E=u(l,m,n),D=a.abs(149.685-o),h=a.abs(20-E);h<.4?(h/=.4,o=(255-o)/255,e[g++]=l*h+(1-h)*c(z,o,j),e[g++]=m*h+(1-h)*c(A,o,j),e[g++]=n*h+(1-h)*c(B,o,j),p===0&&(v.dark=b.stringify([l,m,n])),q===s&&(v.light=b.stringify([l,m,n]))):(e[g++]=l,e[g++]=m,e[g++]=n),D<.6?e[g++]=a.round(102+255*D):e[g++]=255}x.putImageData(y,0,0)},w=function(p){var a=k(p);a.width=10,a.height=256;var f=a.getContext('2d'),g=f.getImageData(0,0,a.width,a.height),b=g.data,c=0;for(var d=0,h=a.height;d<h;d++){var e=i(d/h),l=e[0],m=e[1],n=e[2];for(var j=0,o=a.width;j<o;j++)b[c++]=l,b[c++]=m,b[c++]=n,b[c++]=255}f.putImageData(g,0,0)},m=function(a){return a.getElementsByTagName('pointer')[0]},h=function(a,c){var b='oninput'in a?'oninput':'onkeyup';a[b]=a.onchange=a.onpaste=a.oncut=c};return C(D,'.-xq{width:312px;background:#fff;padding:17px 0 7px 0;text-align:center;user-select:none;border-radius:3px;position:relative}.-xq pointer{display:block;height:6px;border:1px solid #fff;background:#ccc;top:0;left:0;box-sizing:border-box;position:absolute}.-xq>div{display:inline-block;position:relative}.-xq>div+div{margin-left:10px}.-xq>div.pad{font-size:0}.-xq>div.pad>pointer{width:6px;margin:-3px}.-xq>div.pad>canvas{width:256px;height:256px;background:#fff}.-xq>div.hue{font-size:0}.-xq>div.hue>pointer{margin:-3px -1px;width:12px}.-xq>div.hue>canvas{background:#000;width:10px;height:256px}.-xq>div.val{margin:0;padding:10px 0 0 0}.-xq>div.val>input{color:inherit;text-transform:lowercase;background-color:transparent;box-sizing:border-box;padding:0 3px;position:relative;font-size:12px;border:none;text-align:left;min-width:40px;width:30%}.-xq>div.val>input:focus{z-index:1}.-xq>div.val>input+input{margin-left:6px}.-xq>div.val>.hex{width:56px}.-xq>div.val>.rgb{width:114px}.-xq>div.val>.hsl{width:114px}.-xq>.bg{display:block;left:2px;top:2px;right:2px;bottom:2px;border-radius:2px;border-color:inherit;border:2px solid;border-bottom-width:26px;position:absolute}','-xq colorpad colorpad')