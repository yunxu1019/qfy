02gMath,isNaN,parseInt,console,extend,a,H,s,I,tfunction u(v,B){var o=v[0],q=v[1],r=v[2],C=v[3];if(H(B))return[o,q,r,C];var e=p(3)/3,a=.3333333333333333,s=z(B),h=y(B),b=1-s,c=(s+a*b)*o+(a*b-e*h)*q+(a*b+e*h)*r,d=(a*b+e*h)*o+(s+a*b)*q+(a*b-e*h)*r,k=(a*b-e*h)*o+(a*b+e*h)*q+(s+a*b)*r,w=f([c,d,k]),D=i(c,d,k),t=[w-c,w-d,w-k];if(D<0)var u=c<0?0:d<0?1:2,x=g(t,-D/t[u]),l=x[0],m=x[1],n=x[2];else{var E=j(c,d,k);if(E>255)var u=c>255?0:d>255?1:2,A=g(t,(255-E)/t[u]),l=A[0],m=A[1],n=A[2];else var l,m,n=l=m=0}return c+=l,d+=m,k+=n,[c,d,k,C]}function J(b,a){var c=b[0],d=b[1],e=b[2],h=b[3],f=382.5,g=c+d+e,a=((g-f)*a+f)/g,i=a*c,j=a*d,k=a*e;return[i,j,k,h]}function e(a){return b(a)}function K(h){var e=h[0],c=h[1],d=h[2];e/=255,c/=255,d/=255;var a=j(e,c,d),b=i(e,c,d),f,g,k;return a===b?f=NaN:a===e?c>=d?f=60*(c-d)/(a-b):f=360+60*(c-d)/(a-b):a===c?f=120+60*(d-e)/(a-b):a===d&&(f=240+60*(e-c)/(a-b)),k=(a+b)/2,a===b?g=NaN:k<.5?g=(a-b)/(a+b):g=(a-b)/(2-(a+b)),[f,g,k]}function L(a,b,c){return a<0&&(a+=1),a>1&&(a-=1),a<.16666666666666666?b+(c-b)*6*a:a<.5?c:a<.6666666666666666?b+(c-b)*6*(.6666666666666666-a):b}function v(d){var b=d[0],c=d[1],a=d[2],e=a<.5?a*(1+c):a+c-a*c,f=2*a-e;b/=360;var g=b+.3333333333333333,h=b,i=b-.3333333333333333;return[g,h,i].map(function(a){return L(a,f,e)})}function b(d){var p;if(k.test(d)){var g=k.exec(d),e=g[0],q=g[1],r=g[2],t=g[3],o=g[4];return p=v([q,r,t]),a=p[0],b=p[1],c=p[2],[a,b,c,o||1]}if(l.test(d)){var h=l.exec(d),e=h[0],a=h[1],b=h[2],c=h[3],o=h[4];return[a>255?255:a,b>255?255:b,c>255?255:c,o||1]}if(m.test(d)){var i=m.exec(d).map(function(a){return s(a+a,16)}),e=i[0],a=i[1],b=i[2],c=i[3],f=i[4];return[a,b,c,f>=0?f/255:1]}if(n.test(d)){var j=n.exec(d).map(function(a){return s(a,16)}),e=j[0],a=j[1],b=j[2],c=j[3],f=j[4];return[a,b,c,f>=0?f/255:1]}}function w(a){var c=a[0],d=a[1],e=a[2],b=a[3];return b>=0&&b<1?'rgba('+c+','+d+','+e+','+b+')':'#'+[c,d,e].map(E).join('')}function o(d,c,e){var a=b(c);return a?(a=d(a,e),w(a)):(I.warn('\u989c\u8272\u6570\u636e\u4e0d\u6b63\u786e:'+c),c)}function x(a){var b=a[0],c=a[1],d=a[2];return[c-d,d-b,b-c]}function f(a){var b=a[0],c=a[1],d=a[2];return p(b*b+c*c+d*d)}function g(c,b){if(!b)var b=1/f(c);if(!b)return b=a.sqrt(3)/3,[b,b,b];var d=c[0],e=c[1],g=c[2];return[d*b,e*b,g*b]}function M(c,d){c=b(c),d=b(d),c=x(c),d=x(d);var h=g(c),i=h[0],j=h[1],k=h[2],l=g(d),m=l[0],n=l[1],o=l[2],p=[j*o-n*k,k*m-o*i,i*n-m*j],q=i*m+j*n+k*o,r=p[0]>0?f(p):-f(p),e=a.asin(r>1?1:r<-1?-1:r),s=a.acos(q>1?1:q<-1?-1:q);return e<0?e=a.PI*2-s:e=s,e}function N(e,f){if(!(h(e)&&h(f)))return!1;var a=b(e),g=a[0],i=a[1],j=a[2],k=a[3],c=b(f),l=c[0],m=c[1],n=c[2],o=c[3];return d(g-l)<1&&d(i-m)<1&&d(j-n)<1&&d(k-o)<.01}function h(a){return l.test(a)||m.test(a)||n.test(a)||k.test(a)}var i=a.min,j=a.max,y=a.sin,z=a.cos,A=a.round,p=a.sqrt,B=a.random,C=a.PI,q=a.abs,d=q===void 0?function(a){return a<0?-a:a}:q,D=function(a){return j(i(A(a),255),0)},E=function(a){return a=D(a),a<16?'0'+a.toString(16):a.toString(16)},k=/^hsla?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:,\s*([\d\.]+))?\)$/i,l=/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:,\s*([\d\.]+))?\)$/i,m=/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i,n=/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i,r='#d16969',F=/rgba?\s*\([\,\.\d]+\)|#[\da-f]{3,8}/ig,G=function(a){return h(a)?(c.rotate!==0&&(a=e.rotate(a,c.rotate)),c.contrast!==1&&(a=e.contrast(a,c.contrast)),a):a},c={rotate:0,contrast:1};return t(e,{setTransformer:function(a){t(c,a)},rotate:function(a,b){return o(u,a,b)},contrast:function(a,b){return o(J,a,b)},rgb2hsl:K,hsl2rgb:v,angle:M,parse:b,equal:N,stringify:w,isColor:h,transform:function(a){return a.replace(F,G)},random:function(a){return a===void 0&&(a=r),r=o(u,a,(B()*.4+.4)*C)}}),e