0b2location,console,sessionStorage,extend,JSON,serialize,clearTimeout,setTimeout,parseKV,Function,encodeURIComponent,Error,XHR,dispatch,window,Object,isEmpty,isString,t,u,v,a,f,g,C,w,x,k,D,E,F,G,H,l,h,Ifunction y(a){return a.replace(b,'$2/$3')}function J(a){return/^https:/i.test(a)?'https':'http'}function m(i){var b={},c=i.split('/'),a=c[0];do{var e=c.slice(0);do{i=e.join('/');var f=d[i];if(f)for(var h in f)b[h]||(b[h]=f[h]);e.pop()}while(e.length);a=a.replace(/^.*?(\.|$)/,''),c[0]=a}while(a.length);return g(b,';')}function i(c,b){b===void 0&&(b=''),c&&(C(i.save_timer),i.save_timer=w(function(){v.setItem(p,f.stringify(d))},20),c.replace(/(^|;|,)\s*(expires)=(\w*),([^=]*)(;|$)/ig,'$1$2=$3.$4$5').split(/,\s*/).map(function(j){var f={},g=j.split(/;\s*/);g.slice(1).map(function(d){var a=/^(.+?)\=(.+?)$/.exec(d);if(a){var b=a[1],c=a[2];f[b.toLowerCase()]=c}});var h=f.path,c=f.domain;c||(c=b.replace(/[^\/]+$/,'')),/^\./.test(c)&&(c=c.replace(/^\.+/,''));var e;if(/^\//.test(h)?e=c.replace(/\/.*$/,'')+h:e=c,e=e.replace(/\/+$/,''),b.indexOf(e)>=0){var i=x(g[0],';');d[e]?a(d[e],i):d[e]=i}}))}function e(p,o,D){var q=y(o);if(!q)throw new E('Unsupposed url format!');var z=m(q),n={};z&&(n.Cookie=z),a(n,D),/^[mc]/i.test(p)&&(n['User-Agent']=/^m/i.test(p)?'Efront/1.9 (iPhone) Safari/602.1':'Efront/1.9 (Windows) Chrome/77.0.3865.90',p=p.slice(1));var c=new F,K=c.abort;c.abort=function(){c.onreadystatechange=null,K.call(this)},B.map(function(a){n[a]&&c.setRequestHeader(a,n[a]),delete n[a]}),c.onreadystatechange=function(){if(c.readyState===4){if(c.getResponseHeader){var f=c.getResponseHeader('efront-cookie');i(f,q)}switch(c.status){case 0:case 200:case 201:case 304:v(c);break;case 302:case 301:if(c.isRedirected>2)break;var a=c.getResponseHeader('efront-location');b.test(a)||(/^\//.test(a)?a=q.replace(/\/.*$/,a):a=q.replace(/[^\/+]$/,a),a=J(o)+'://'+a);var d=e('get',a,D);d.isRedirected=(c.isRedirected||0)+1;v&&d.done(v,!1);t&&d.error(t,!1);break;default:t(c)}G(H,'render')}};var L=c.setRequestHeader,u=l.create(null);c.setRequestHeader=function(a,b){u[a]=b},w(function(){!h(j)&&h(d)&&(/^(get|head|trace)$/i.test(p)?(o=o.replace(/#[\s\S]*/,''),d=g(j),o+=(/\?/.test(o)?'&':'?')+d):(d=f.stringify(j),d==='{}'||d==='[]'?d='':u['Content-Type']='application/json;charset=UTF-8')),c.open(p,s(o,n)),l.keys(u).forEach(function(a){return L.call(c,a,u[a])}),M.call(c,d)},0);var v=function(a){a.decoder&&(a=a.decoder(a)),A.map(function(b){return b instanceof k&&b(a)}),r()},t=function(a){C.map(function(b){return b instanceof k&&b(a)}),r()},A=[],C=[];c.done=c.success=function(b,a){return a===void 0&&(a=!0),a?A.push(b):v=b,c};var M=c.send,d='',j=null;return c.json=c.data=c.send=function(b,e){var g;if(j||h(b)&&h(e)||(j={}),b instanceof l)a(j,b);else if(e)a(j,(g={},g[b]=e,g));else if(I(b)&&e!==!1){var b=/^\{/.test(b)?f.parse(b):x(b,'&','=');a(j,b)}else d=b;return c},c.form=function(a){c.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),c.data(a),d=g(j,'&','=')},c.fail=c.error=function(a,b){return b===void 0&&(b=!0),b?C.push(a):t=a,t=a,c},c}var d={},b=/^(?:(https?)\:)?\/\/(.*?)(?:\/(.*?))?([\?#].*)?$/i,n=this,z=n.efrontURI,o=n.cross_host,c=o===void 0?z:o,j=t.href.replace(b,'$1://$2/');c&&(b.test(c)?c=(/^https/.test(j)?'https://':'http://')+c.replace(b,'$2/'):(u.error('cross_host\u683c\u5f0f\u4e0d\u6b63\u786e',c),c='/'));var A=b.test(t.href)?c||'/':'http://efront.cc/',B=['Content-Type'],p='--zimoli-coms-cross',q=v.getItem(p);if(q)try{a(d,f.parse(q))}catch(a){u.warn('\u52a0\u8f7dcookie\u51fa\u9519\uff01')}var r=function(){e.digest instanceof k&&e.digest()},s=function(c,i){if(j===c.slice(0,j.length))return c;var h=y(c),f=m(h),d={};f&&(d.Cookie=f),a(d,i);var e=D('/');return c.replace(/^s?\/\//i,'http$&').replace(b,A+((/^(https\:|s\/\/)/i.test(c)?'%7Bs':'%7B')+(e+e)+'$2'+e+g(d)+'%7D@$3$4'))};return a(e,{getCookies:m,addCookie:i,getCrossUrl:s}),e