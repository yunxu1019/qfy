014Promise,Function,b,c'use strict';var a=function a(f){var d=b.resolve(),h=function(){};h.prototype=f;var g=new h;for(var e in f)f[e]instanceof c&&(d[e]=function(b,a){return b=f[e],a=function(){'use strict';var a=arguments;return this.then(function(){return b.apply(g,a)})},g[e]=function(){return a.apply(d,arguments)},a}());d._enrich=function(a){if(!a._enrich)for(var b in d)a[b]=d[b];return a};var i=d.then,j=d['catch'];return d.then=function(){var a=i.apply(this,arguments);return this._enrich(a)},d['catch']=function(){var a=j.apply(this,arguments);return this._enrich(a)},g},a=a;return a